<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/css/bootstrap.min.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css">
<link rel="stylesheet" href="style.css">

<!------------------Light Box for Gallery-------------->
<link rel="stylesheet" href="lightbox.min.css">
<script type="text/javascript" src="lightbox-plus-jquery.min.js"></script>
<!------------------Light Box for Gallery-------------->
<title>Application-1</title>
</head>
<body>

<header>
    <!-------------------------------Navigation Starts------------------>

    <nav class="navbar navbar-expand-md navbar-dark mb-4" style="background-color:#a72b18">
        <a href="index.html" class="navbar-brand">
            <img src="img/brand-white.png" alt="Brand Logo" class="img-fluid" width="80" height="100">
        </a>

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#responsive">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="responsive">
            <ul class="navbar-nav mr-auto text-capitalize">
                <li class="nav-item"><a href="index.html" class="nav-link active">Home</a></li>
                <li class="nav-item"><a href="pet-sitting.html" class="nav-link">Pet Sitting</a></li>
                <li class="nav-item"><a href="profile.html" class="nav-link">Profile</a></li>
                <li class="nav-item"><a href="#modalview" class="nav-link" data-toggle="modal">Messages</a></li>
                <li class="nav-item"><a href="notification.html" class="nav-link">Docs</a></li>
                <li class="nav-item"><a href="#" class="nav-link d-md-none">Growl</a></li>
                <li class="nav-item"><a href="#" class="nav-link d-md-none">Logout</a></li>
            </ul>

            <form action="" class="form-inline ml-auto d-none d-md-block">
                <input type="text" name="search" id="search" placeholder="Search" class="form-control form-control-sm">
            </form>
            <a href="notification.html" class="text-decoration-none" style="color:#CBE4F2;font-size:22px;">
                <i class="far fa-bell ml-3 d-none d-md-block"></i>
            </a> 
            <img src="img/avatar-dhg.png" alt="User Avatar" class="rounded-circle ml-3 d-none d-md-block" width="32" height="32">
        </div>
    </nav>

    <!---------------------------------------------Ends navigation------------------------------>
</header>

<main>
    <!---------------------------Modal Section starts------------------->
    <div class="modal fade" id="modalview" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-scrollable modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <div class="modal-title h4" id="modalLabel">Messages</div>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <ul class="list-unstyled">
                        <li class="media hover-media">
                            <a href="#" class="text-decoration-none">
                                <img src="img/avatar-dhg.png" alt="User Avatar" width="60" height="60" class="rounded-circle mr-3">
                                <div class="media-body text-dark">
                                    <h6 class="media-header">Jchob Thunder and <strong>1 others</strong></h6>
                                    <p class="media-text">Lorem ipsum dolor sit amet consectetur adipisicing elit.</p>
                                </div>
                            </a>
                            <hr class="my-3">
                        </li>
                        <li class="media hover-media">
                            <a href="#" class="text-decoration-none">
                                <img src="img/avatar-fat.jpg" alt="User Avatar" width="60" height="60" class="rounded-circle mr-3">
                                <div class="media-body text-dark">
                                    <h6 class="media-header">Mark Otto and <strong>3 others</strong></h6>
                                    <p class="media-text">Lorem ipsum dolor sit amet consectetur adipisicing elit.</p>
                                </div>
                            </a>
                            <hr class="my-3">
                        </li>
                        <li class="media hover-media">
                            <a href="#" class="text-decoration-none">
                                <img src="img/avatar-mdo.png" alt="User Avatar" width="60" height="60" class="rounded-circle mr-3">
                                <div class="media-body text-dark">
                                    <h6 class="media-header">Archer and <strong>5 others</strong></h6>
                                    <p class="media-text">Lorem ipsum dolor sit amet consectetur adipisicing elit.</p>
                                </div>
                            </a>
                            <hr class="my-3">
                        </li>
                        <!-- Repeat similar structure for other messages -->
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <!-------------------------------Modal Ends---------------------------->

    <!-------------------------------------------Grid layout for large screens (lg-xl-3 columns) and small screens (xs-lg 1 column)--------------------------------->
    <div class="container">
        <div class="row">
            <!--------------------------Left column start-->
            <aside class="col-12 col-lg-3">
                <div class="left-column">
                    <div class="card profile-card">
                        <img src="img/photo-1455448972184-de647495d428.jpg" alt="Cover Photo" class="card-img-top img-fluid">
                        <div class="card-body text-center">
                            <img src="img/avatar-dhg.png" alt="Profile Picture" width="120" height="120" class="rounded-circle mt-n5">
                            <h5 class="card-title mt-4">Dave Gamache</h5>
                            <p class="card-text text-justify mb-2">I wish I was a little bit taller, wish I was a baller, wish I had a girlâ€¦ also.</p>
                            <ul class="list-unstyled nav justify-content-center">
                                <li class="nav-item">
                                    <a href="#">Friends <br> <strong>12M</strong></a>
                                </li>
                                <li class="nav-item">
                                    <a href="#">Enemies <br> <strong>1</strong></a>
                                </li>
                            </ul>
                        </div>
                    </div>

                    <div class="card shadow-sm card-left2 mb-4">
                        <div class="card-body">
                            <h5 class="mb-3 card-title">About <small><a href="#" class="ml-1">Edit</a></small></h5>
                            <p class="card-text">
                                <i class="fas fa-calendar-week mr-2"></i> Went to <a href="#" class="text-decoration-none">Oh Canada</a>
                            </p>
                            <p class="card-text">
                                <i class="fas fa-user-friends mr-2"></i> Became a friend with <a href="#" class="text-decoration-none">Obama</a>
                            </p>
                            <p class="card-text">
                                <i class="far fa-building mr-2"></i> Works at <a href="#" class="text-decoration-none">Github</a>
                            </p>
                            <p class="card-text">
                                <i class="fas fa-home mr-2"></i> Lives in <a href="#" class="text-decoration-none">San Francisco</a>
                            </p>
                            <p class="card-text">
                                <i class="fas fa-map-marker mr-2"></i> From <a href="#" class="text-decoration-none">Seattle, WA</a>
                            </p>
                        </div>
                    </div>

                    <div class="card shadow-sm card-left3 mb-4">
                        <div class="card-body">
                            <h5 class="card-title">Photos <small class="ml-2"><a href="#">Edit</a></small></h5>
                            <div class="row">
                                <div class="col-3 px-1 py-2">
                                    <a href="img/left6.jpg" data-lightbox="photos"><img src="img/left6.jpg" alt="Gallery Photo" class="img-fluid"></a>
                                </div>
                                <div class="col-3 px-1 py-2">
                                    <a href="img/left5.jpg" data-lightbox="photos"><img src="img/left5.jpg" alt="Gallery Photo" class="img-fluid"></a>
                                </div>
                                <div class="col-3 px-1 py-2">
                                    <a href="img/left4.jpg" data-lightbox="photos"><img src="img/left4.jpg" alt="Gallery Photo" class="img-fluid"></a>
                                </div>
                                <div class="col-3 px-1 py-2">
                                    <a href="img/left3.jpg" data-lightbox="photos"><img src="img/left3.jpg" alt="Gallery Photo" class="img-fluid"></a>
                                </div>
                                <div class="col-3 px-1 py-2">
                                    <a href="img/left2.jpg" data-lightbox="photos"><img src="img/left2.jpg" alt="Gallery Photo" class="img-fluid"></a>
                                </div>
                                <div class="col-3 px-1 py-2">
                                    <a href="img/left1.jpg" data-lightbox="photos"><img src="img/left1.jpg" alt="Gallery Photo" class="img-fluid"></a>
                                </div>
                            </div>
                            <div class="text-center py-3">
                                <a href="#">Show All</a>
                            </div>
                        </div>
                    </div>
                </div>
            </aside>

            <!-------------------------------------------Ends left column---------------------->

            <!-----------------------Middle Column Starts-->
            <div class="col-12 col-lg-6">
                <div class="middle-column">
                    <div class="card shadow-sm card-middle1 mb-4">
                        <div class="card-body">
                            <ul class="nav">
                                <li class="nav-item"><a href="#" class="nav-link">All</a></li>
                                <li class="nav-item"><a href="#" class="nav-link">Posts</a></li>
                                <li class="nav-item"><a href="#" class="nav-link">Photos</a></li>
                                <li class="nav-item"><a href="#" class="nav-link">Videos</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="card-box">
                        <div class = "card-first">
                            <div class="card shadow-sm card-middle2 mb-4">
                                <div class="card-body">
                                    <div class="media">
                                        <img src="img/avatar-dhg.png" alt="User Avatar" width="50" height="50" class="rounded-circle mr-3">
                                        <div class="media-body">
                                            <div class="form-group">
                                                <label class="sr-only" for="post_text">post_text</label>
                                                <textarea name="post_text" id="post_text" rows="3" class="form-control" placeholder="What's on your mind?"></textarea>
                                            </div>
                                        </div>
                                    </div>
                                    <ul class="nav">
                                        <li class="nav-item">
                                            <a href="#" class="nav-link" id = "photoLink">
                                                <i class="fas fa-camera text-muted"></i> <span class="d-none d-lg-inline">Photo</span>
                                                <input type="file" id="uploadInput" accept="image/*" style="display: none;">
                                            </a>
                                        </li>
                                        <li class="nav-item">
                                            <a href="#" class="nav-link" id = "videoLink">
                                                <i class="fas fa-video text-muted"></i> <span class="d-none d-lg-inline">Video</span>
                                                <input type="file" id="uploadVideoInput" accept="video/*" style="display: none;">
                                            </a>
                                        </li>
                                        <button type="button" class = "btn btn-primary btn-sm" onclick="addCardBody()">Add Post</button>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <!-- POSTS GO HERE -->

                        <!-- 1st hard coded post -->
                        <div class="card shadow-sm card-middle3 mb-4">
                            <div class="card-body">
                                <div class="flex-container">
                                    <div class="post-header">
                                        <img src="img/avatar-dhg.png" alt="User Avatar"  class="rounded-circle mr-3">
                                        <h5 class="media-header">Dave Gamache <small class="text-muted">2m ago</small></h5>
                                    </div>
                                    <div class="post-body">
                                        <!-- Post Image -->
                                        <img src="img/oscar-close.jpg" alt="Post Image" class="mr-3" width="90%" height="auto" style="padding: 10px 0;">

                                        <!-- Post Text -->
                                        <p>This is my cat. He is very handsome as you can see.</p>
                                    </div>
                                        <!-- Post Actions -->
                                        <div class="post-actions">
                                            <a href="#" class="like"></a>
                                            <a href="#" class="reply"></a>
                                        </div>
                                        <!-- Comments -->
                                    <div class="post-comment">
                                        <div class="comment-body">
                                            <img src="img/avatar-dhg.png" alt="User Avatar">
                                            <div class="comment-content">
                                                <h6>Fake Person</h6>
                                                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Tempora, facilis?</p>
                                                <div class="comment-actions">
                                                    <a href="#" class="like"></a>
                                                    <span>2m ago</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <form action="" class="form-inline">
                                    <input type="text" class="form-control form-control-sm w-75 mr-3" placeholder="Add a comment">
                                    <button type="submit" class="btn btn-primary btn-sm">Post</button>
                                </form>
                            </div>
                        </div>

                        <!-- 2nd hard coded post -->
                        <div class="card shadow-sm card-middle3 mb-4">
                            <div class="card-body">
                                <div class="flex-container">
                                    <div class="post-header">
                                        <img src="img/avatar-dhg.png" alt="User Avatar"  class="rounded-circle mr-3">
                                        <h5 class="media-header">Dave Gamache <small class="text-muted">2m ago</small></h5>
                                    </div>
                                    <div class="post-body">
                                        <!-- Post Image -->
                                        <img src="img/oscar-close.jpg" alt="Post Image" class="mr-3" width="90%" height="auto" style="padding: 10px 0;">

                                        <!-- Post Text -->
                                        <p>This is my cat. He is very handsome as you can see.</p>
                                    </div>
                                        <!-- Comments -->
                                    <div class="post-comment">
                                        <div class="comment-body">
                                            <img src="img/avatar-dhg.png" alt="User Avatar">
                                            <div class="comment-content">
                                                <h6>Fake Person</h6>
                                                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Tempora, facilis?</p>
                                                <div class="comment-actions">
                                                    <a href="#" class="like"></a>
                                                    <a href="#" class="reply"></a>
                                                    <span>2m ago</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <form action="" class="form-inline">
                                    <input type="text" class="form-control form-control-sm w-75 mr-3" placeholder="Add a comment">
                                    <button type="submit" class="btn btn-primary btn-sm">Post</button>
                                </form>
                            </div>
                        </div>                        

                    </div>
                    <!-- Repeat similar structure for other posts -->
                </div>
            </div>
            <!--------------------------------Middle column ends------------------------->

            <!------------------------Right column starts-->
            <aside class="col-12 col-lg-3">
                <div class="right-column">
                    <div class="card shadow-sm card-right1 mb-4">
                        <div class="card-body">
                            <h5 class="card-title">Trending</h5>
                            <ul class="list-unstyled">
                                <li class="media hover-media">
                                    <a href="#" class="text-decoration-none">
                                        <img src="img/avatar-dhg.png" alt="User Avatar" width="50" height="50" class="rounded-circle mr-3">
                                        <div class="media-body">
                                            <h6 class="media-header">Travis Howard</h6>
                                            <p class="media-text">Lorem ipsum dolor sit amet consectetur.</p>
                                        </div>
                                    </a>
                                    <hr class="my-3">
                                </li>
                                <li class="media hover-media">
                                    <a href="#" class="text-decoration-none">
                                        <img src="img/avatar-fat.jpg" alt="User Avatar" width="50" height="50" class="rounded-circle mr-3">
                                        <div class="media-body">
                                            <h6 class="media-header">Mark Otto</h6>
                                            <p class="media-text">Lorem ipsum dolor sit amet consectetur.</p>
                                        </div>
                                    </a>
                                    <hr class="my-3">
                                </li>
                                <li class="media hover-media">
                                    <a href="#" class="text-decoration-none">
                                        <img src="img/avatar-mdo.png" alt="User Avatar" width="50" height="50" class="rounded-circle mr-3">
                                        <div class="media-body">
                                            <h6 class="media-header">Jacob Thornton</h6>
                                            <p class="media-text">Lorem ipsum dolor sit amet consectetur.</p>
                                        </div>
                                    </a>
                                    <hr class="my-3">
                                </li>
                                <button type="button" class = "btn btn-primary btn-sm" onclick="addCardBody()">Add Post</button>
                                <!-- Repeat similar structure for other trending topics -->
                            </ul>
                        </div>
                    </div>
                </div>
            </aside>
            <!-------------------------------Ends right column--------------------------->
        </div>
    </div>
</main>

<footer>
    <div class="container text-center py-3">
        <p>&copy; 2024 Application-1. All Rights Reserved.</p>
    </div>
</footer>

<script>
// Get references to the elements
var photoLink = document.getElementById('photoLink');
var videoLink = document.getElementById('videoLink')
var uploadInput = document.getElementById('uploadInput');
var videoInput = document.getElementById('uploadVideoInput');
var uploadedImage = document.getElementById('uploadedImage');
var imagepath;

// Add click event listener to the photo span
videoLink.addEventListener('click', function(event) {
    // Trigger a click event on the upload input
    videoInput.click();
});

// Add click event listener to the photo span
photoLink.addEventListener('click', function(event) {
    // Trigger a click event on the upload input
    uploadInput.click();
});

// Add event listener to input element
uploadInput.addEventListener('change', function(event) {
    // Get the selected file
    var file = event.target.files[0];
    
    // Create a FileReader object
    var reader = new FileReader();

    // Set up event listener to handle file reading
    reader.onload = function(event) {
        // Set the source of the image tag to the uploaded image data
        // uploadedImage.src = event.target.result;
        imagepath = event.target.result;
        console.log("image", imagepath);
    };

    // Read the selected file as a Data URL
    reader.readAsDataURL(file);
});

function addCardBody() {
    console.log("addCardBody");
    var cardBox = document.querySelector('.card-box');
    var cardFirst = cardBox.querySelector('.card-first');

    if (!cardFirst) {
        console.error("Card header not found.");
        return;
    }

    // Username
    var userName = 'Dave Gamache'
    //Text
    var postText = document.getElementById('post_text').value;
    postText = postText.replace(/\n/g, '<br>');
    //Video
    const file = videoInput.files[0];

    // Create a new card body
    var newCardBody = document.createElement('div');
    newCardBody.classList.add('new-card');

    // Customize the content of the new card body here
    newCardBody.innerHTML = 
    `
        <div class="card shadow-sm card-middle3 mb-4">
            <div class="card-body">
                <div class="flex-container">
                    <div class="post-header">
                        <img src="img/avatar-dhg.png" alt="User Avatar"  class="rounded-circle mr-3">
                        <h5 class="media-header">${userName}<small class="text-muted"> 2m ago</small></h5>
                    </div>
                    <div class="post-body">
                        <!-- Post Image -->
                        ${imagepath ? `<div class="media">
                            <img src="${imagepath}" alt="Post Image" class="mr-3" width="90%" height="auto" style="padding-bottom: 15px;">
                        </div>` : ''}
                        
                        <!-- Post Video -->
                        ${file ? `<div class="media">
                            <video id="videoPlayer" style="width: 50%;" controls autoplay loop muted>
                                Your browser does not support the video tag.
                            </video>
                        </div>` : ''}
                        <!-- Post Text -->
                        <p>${postText}</p>
                    </div>
                        <!-- Comments -->
                    <div class="post-comment">
                        <div class="comment-body">
                            <img src="img/avatar-dhg.png" alt="User Avatar">
                            <div class="comment-content">
                                <h6>Fake Person</h6>
                                <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Tempora, facilis?</p>
                                <div class="comment-actions">
                                    <a href="#" class="like"></a>
                                    <a href="#" class="reply"></a>
                                    <span>2m ago</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <form action="" class="form-inline">
                    <input type="text" class="form-control form-control-sm w-75 mr-3" placeholder="Add a comment">
                    <button type="submit" class="btn btn-primary btn-sm">Post</button>
                </form>
            </div>
        </div>
    `;
    
    // Insert the new card body after the card first element
    cardFirst.insertAdjacentElement('afterend', newCardBody);

    const videoPlayer = document.getElementById('videoPlayer');
    if (file) {
        const url = URL.createObjectURL(file);
        videoPlayer.src = url;
        videoPlayer.play();

        // Add event listener for video errors
        videoPlayer.addEventListener('error', function(e) {
            console.error('Error loading video:', e);
            alert('Error loading video. Please ensure the file is a valid video format.');
        });

        videoPlayer.play().catch(error => {
            console.error('Error playing video:', error);
            alert('Error playing video. Please ensure the file is a valid video format.');
        });
    } 

    // Clear the input values
    uploadInput.value = '';
    videoInput.value = '';
    imagepath = '';
    document.getElementById('post_text').value = '';
}

</script>
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
<script src="lightbox-plus-jquery.min.js"></script>

</body>
</html>
